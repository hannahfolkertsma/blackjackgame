
@model blackjackgame.Models.GameViewModel


<link rel=stylesheet href="~/css/site.css" type="text/css">

<script src="//code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function () {
        $("#start").click(function () {
           $.ajax({
                type: "POST",
                url:  "@Url.Action("Start", "Home")",
                success: function  (response) {
                    console.log(response);
                    $("body").html(response);
                  
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.log(errorThrown);
                }
            })
        });
    });

        $("#hit").click(function () {
            $.ajax({
                type: "POST",
                url:  "@Url.Action("Hit", "Home")",
                success: function  (response) {
                    console.log(response);
                    $("body").html(response);

                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.log(errorThrown);
                }
            })
        });
           $("#stand").click(function () {
            $.ajax({
                type: "POST",
                url:  "@Url.Action("Stand", "Home")",
                success: function  (response) {
                    console.log(response);
                    $("body").html(response);

                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.log(errorThrown);
                }
            })
        });
    
</script>

<div class="container">
    <h1>blackjack</h1>
    <form >
        <div id="newgamecontainer"><asp:Button id="start">New Game</asp:Button></div>
        
            <table id="cardcontainer">
                <tr>
                    <td>
                    <div>
                        <p>dealer</p>
                        @foreach (Card card in Model.dealerhand)
                        {
                            <img class="images" src='@Url.Action(card.image, "images")' />
                        }
                        @if(Model.dealerbust){
                            <h1>dealer bust</h1>
                        }
                        @if (Model.dealerwin)
                        {
                            <h1>dealer wins</h1>
                        }
                    </div>
                    </td>
                    <td>

                    <div>
                        <p>player</p>
                        @foreach (Card card in Model.playerhand)
                        {
                            <img class="images" src='@Url.Action(card.image, "images")' />
                        }
                        @if (Model.playerbust)
                        {
                            <h1>you bust</h1>
                        }
                        @if (Model.playerwin)
                        {
                            <h1>you win!</h1>
                        }
                    </div>
                    </td>
                </tr>
            @if (Model.draw)
            {
                <p>it's a draw!</p>
            }
        </table>
        <table>
            <tr>
                <td>

                    <asp:Button id="hit">hit</asp:Button>
                </td>
                <td>

                    <asp:Button id="stand">stand</asp:Button>
                </td>
            </tr>
        </table>
        
    </form>
</div>

